# Регулярные выражения

[Статья на MDN](https://developer.mozilla.org/ru/docs/Web/JavaScript/Guide/Regular_Expressions)

Регулярные выражения - это шаблоны, используемые для сопоставления последовательностей символов в строках. В JavaScript регулярные выражения также являются объектами. Эти шаблоны используются в методах [exec](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec) и [test](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test) объекта [RegExp](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp), а также [match](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match), [replace](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace), [search](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/search) и [split](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split) объекта [String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String).

**Регулярное выражение можно создать двумя способами:**

Используя литерал регулярного выражения

```js
const re = /ab+c/gi
```

Вызывая функцию конструктор объекта [RegExp](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp)

```js
const re = new RegExp("ab+c", "gi")
```

Литералы регулярных выражений вызывают предварительную компиляцию регулярного выражения при анализе скрипта. Если ваше регулярное выражение постоянно, то пользуйтесь им, чтобы увеличить производительность. Если знаете, что выражение будет изменяться или не знаете шаблон заранее, используйте конструктор.

**Символьные классы**

| Символ | Описание                                                                     |
|--------|------------------------------------------------------------------------------|
| `\d`     | Цифровой символ [0-9]                                                        |
| `\D`     | Нецифровой символ [^0-9]                                                     |
| `\s`     | Пробельный символ                                                            |
| `\S`     | Непробельный символ                                                          |
| `\w`     | Буквенный (латиница) или цифровой символ или знак подчёркивания              |
| `\W`     | Любой символ, кроме буквенного или цифрового символа или знака подчёркивания |
| `.`      | Любой символ                                                                 |

**Квантификаторы**

| Символ | Описание       |
|-------|----------------|
| `?`     | Ноль или один  |
| `*`     | Ноль или более |
| `+`     | Один или более |
| `{n}`  | n - раз        |
| `{m,n}` | от m до n раз  |
| `{m,}`  | не менее m раз |
| `{,n}`  | не более n раз |

**Строка**

| Символ | Описание       |
|--------|----------------|
| `^`      | Начало строки  |
| `$`      | Конец строки   |
| `\b`     | Конец слова    |
| `\B`     | НЕ конец слова |


### Популярные выражения

Email
```js
/^[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}$/i	
```

Email с перечислением популярных доменов больше 2-х букв
```js
/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i
```

Номер телефона (РФ)
```js
/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/	
```

Дата в формате DD.MM.YY(YY)
Проверяет значения дня и месяца, учитывая високосный год
```js
/^(?:(?:31(\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\.)(?:0?[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/	
```

Дата в формате YYYY-MM-DD (ISO)
```js
/^([0-9]{4})-?(1[0-2]|0[1-9])-?(3[01]|0[1-9]|[12][0-9])$/	
```

Дата и время YYYY-MM-DDTHH:MM:SS
```js
/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)((-(\d{2}):(\d{2})|Z)?)$/	
```

HTML тег и содержимое
```js
/<tag\s*.*>(\s*.*)<\/tag>/	
```

HTML атрибуты
```js
/(\S+)=["']?((?:.(?!["']?\s+(?:\S+)=|[>"']))+.)["']?/	
```

URL
```js
/[-a-zA-Z0-9@:%_\+.~#?&\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/=]*)?/gi	
```

Проверка расширения файла
```js
/^(?:.*\.(?=(html|css|js)$))?[^.]*$/	
```

Расширение файла
```js
/\.([0-9a-z]+)(?:[\?#]|$)/	
```

YouTube ID
```js
/https:\/\/(?:youtu\.be\/|(?:[a-z]{2,3}\.)?youtube\.com\/watch(?:\?|#\!)v=)([\w-]{11}).*/gi	
```

Цвет HEX
```js
/\#([a-fA-F]|[0-9]){3,6}/	
```

CSS свойства
```js
/\s*[a-zA-Z\-]+\s*[:]{1}\s[a-zA-Z0-9\s.#]+[;]{1}/	
```

Гос. номер автомобиля (РФ)
```js
/^([АВЕКМНОРСТУХ]{1}[0-9]{3}[АВЕКМНОРСТУХ]{2}[0-9]{2,3})?$/i	
```

Гос.номер с учетом старых и служебных номеров
```js
/(^([0-9]{4}[АВЕКМНОРСТУХ][0-9]{2})$|^([0-9]{4}[АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЭЮЯ]{3})$)|(^[0-9]{4}[АВЕКМНОРСТУХ][0-9]{2}$)|(^([0-9]{4}[АВЕКМНОРСТУХ]{2}[0-9]{2})$|^([0-9]{4}[АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЭЮЯ]{3})$)|(^[0-9]{4}[АВЕКМНОРСТУХ]{2}[0-9]{2}$)|(^([АВЕКМНОРСТУХ]{2}[0-9]{5})$|^([АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЭЮЯ][0-9]{4}[АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЭЮЯ]{2})$|^([АВЕКМНОРСТУХ][0-9]{3}[АВЕКМНОРСТУХ]{2}[0-9]{2,3})$)|(^([АВЕКМНОРСТУХ]{2}[0-9]{5})$|^([АВЕКМНОРСТУХ][0-9]{3}[АВЕКМНОРСТУХ]{2}[0-9]{2,3})$)|(^([АВЕКМНОРСТУХ][0-9]{6})$|^([АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЭЮЯ][0-9]{4}[АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЭЮЯ]{2})$)|(^[АВЕКМНОРСТУХ][0-9]{6}$)|(^([0-9]{4}[АВЕКМНОРСТУХ]{2}[0-9]{2})$|^([АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЭЮЯ][0-9]{4}[АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЭЮЯ]{2})$)|(^[0-9]{4}[АВЕКМНОРСТУХ]{2}[0-9]{2}$)|(^([АВЕКМНОРСТУХ][0-9]{3}[АВЕКМНОРСТУХ]{2}[0-9]{2,3})$|^([АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЭЮЯ][0-9]{4}[АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЭЮЯ]{2})$)|(^[АВЕКМНОРСТУХ][0-9]{3}[АВЕКМНОРСТУХ]{2}[0-9]{2,3}$)|(^[АВЕКМНОРСТУХ][0-9]{6}$)|(^[0-9]{4}[АВЕКМНОРСТУХ]{2}[0-9]{2}$)|(^[АВЕКМНОРСТУХ][0-9]{3}[АВЕКМНОРСТУХ]{2}[0-9]{2,3}$)|(^([АВЕКМНОРСТУХ]{2}[0-9]{5})$|^([АВЕКМНОРСТУХ][0-9]{3}[АВЕКМНОРСТУХ]{2}[0-9]{2,3})$)|(^[АВЕКМНОРСТУХ][0-9]{6}$)|(^[0-9]{4}[АВЕКМНОРСТУХ]{2}[0-9]{2}$)|(^[АВЕКМНОРСТУХ][0-9]{3}[АВЕКМНОРСТУХ]{2}[0-9]{2,3}$)|(^[0-9]{4}[АВЕКМНОРСТУХ]{2}[0-9]{2}$)/i	
```

Гос.номер В (легковой автомобиль)
```js
/(^([АВЕКМНОРСТУХ]{2}[0-9]{5})$|^([АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЭЮЯ][0-9]{4}[АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЭЮЯ]{2})$|^([АВЕКМНОРСТУХ][0-9]{3}[АВЕКМНОРСТУХ]{2}[0-9]{2,3})$)|(^([АВЕКМНОРСТУХ]{2}[0-9]{5})$|^([АВЕКМНОРСТУХ][0-9]{3}[АВЕКМНОРСТУХ]{2}[0-9]{2,3})$)|(^([АВЕКМНОРСТУХ][0-9]{6})$|^([АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЭЮЯ][0-9]{4}[АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЭЮЯ]{2})$)|(^[АВЕКМНОРСТУХ][0-9]{6}$)|(^([0-9]{4}[АВЕКМНОРСТУХ]{2}[0-9]{2})$|^([АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЭЮЯ][0-9]{4}[АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЭЮЯ]{2})$)|(^[0-9]{4}[АВЕКМНОРСТУХ]{2}[0-9]{2}$)|(^([АВЕКМНОРСТУХ][0-9]{3}[АВЕКМНОРСТУХ]{2}[0-9]{2,3})$|^([АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЭЮЯ][0-9]{4}[АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЭЮЯ]{2})$)|(^[АВЕКМНОРСТУХ][0-9]{3}[АВЕКМНОРСТУХ]{2}[0-9]{2,3}$)/i	
```

VIN
```js
/^[0-9ABCDEFGHJKLMNPRSTUVWXYZ]{17}$/i	
```

ПТС
```js
/^[0-9]{2}\s?([АВЕКМНОРСТУХ]{2}|[ABEKMHOPCTYX]{2})$/i	
```

СНИЛС
```js
/^\d{3}[-_ ]{0,1}\d{3}[-_ ]{0,1}\d{3}[-_ ]{0,1}\d{2}$/	
```

Банковская карта (все популярные платежные системы)
```js
/^(?:4[0-9]{12}(?:[0-9]{3})?|[25][1-7][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/	
```

Банковская карта Visa или Master Card
```js
/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14})$/	
```

Банковская карта Visa
```js
/^4[0-9]{12}(?:[0-9]{3})?$/	
```

Банковская карта Master Card
```js
/^(5[1-5][0-9]{14}|2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12}))$/	
```

IPV4
```js
/\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/	
```

IPV6
```js
/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/	
```
